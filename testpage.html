<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iOS Safari Number Spinner Fix</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 20px;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .solution {
            margin: 30px 0;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
        }
        
        h1, h2 {
            color: #333;
        }
        
        .number-input {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            border: 2px solid #007AFF;
            border-radius: 10px;
            margin: 10px 0;
        }
        
        /* Solution 1: Force spinner appearance */
        .force-spinner {
            -webkit-appearance: textfield;
            appearance: textfield;
        }
        
        /* Solution 2: Custom spinner fallback */
        .custom-spinner-wrapper {
            position: relative;
            width: 100%;
        }
        
        .custom-spinner-wrapper input {
            padding-right: 80px;
        }
        
        .custom-buttons {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            height: 80%;
            width: 30px;
        }
        
        .custom-btn {
            flex: 1;
            background: #007AFF;
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 12px;
        }
        
        .custom-btn:first-child {
            border-radius: 5px 5px 0 0;
        }
        
        .custom-btn:last-child {
            border-radius: 0 0 5px 5px;
        }
        
        .custom-btn:active {
            background: #0056CC;
        }
        
        /* Solution 3: Input mode for better keyboard */
        .tel-input {
            -webkit-appearance: none;
            appearance: none;
        }
        
        .info {
            background: #f0f8ff;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #007AFF;
        }
    </style>
</head>
<body>
    <h1>iOS Safari Number Spinner Solutions</h1>
    
    <div class="info">
        <strong>Note:</strong> Safari on iOS often hides number spinners by default. Try these solutions:
    </div>

    <!-- Solution 1: Force spinner with CSS -->
    <div class="solution">
        <h2>Solution 1: Force Native Spinner</h2>
        <p>Using CSS to force the spinner appearance:</p>
        <input type="number" 
               class="number-input force-spinner" 
               value="0" 
               min="0" 
               max="100" 
               step="1"
               placeholder="Try the spinner">
        <div class="info">
            <code>-webkit-appearance: textfield;</code> may force the spinner to show.
        </div>
    </div>

    <!-- Solution 2: Custom spinner as fallback -->
    <div class="solution">
        <h2>Solution 2: Custom Spinner Fallback</h2>
        <p>Custom buttons that work when native spinner doesn't:</p>
        <div class="custom-spinner-wrapper">
            <input type="number" 
                   id="customNumber" 
                   class="number-input" 
                   value="0" 
                   min="0" 
                   max="100" 
                   step="1">
            <div class="custom-buttons">
                <button class="custom-btn" id="upBtn">▲</button>
                <button class="custom-btn" id="downBtn">▼</button>
            </div>
        </div>
    </div>

    <!-- Solution 3: Use inputmode for numeric keyboard -->
    <div class="solution">
        <h2>Solution 3: Better Keyboard with inputmode</h2>
        <p>Using inputmode to ensure numeric keyboard:</p>
        <input type="number" 
               class="number-input tel-input" 
               inputmode="numeric"
               pattern="[0-9]*"
               value="0" 
               placeholder="Will show numeric keyboard">
        <div class="info">
            <code>inputmode="numeric" pattern="[0-9]*"</code> ensures numeric keyboard on iOS.
        </div>
    </div>

    <!-- Solution 4: Hybrid approach -->
    <div class="solution">
        <h2>Solution 4: Hybrid Approach (Recommended)</h2>
        <p>Combines native spinner with custom fallback:</p>
        <div class="custom-spinner-wrapper">
            <input type="number" 
                   id="hybridNumber" 
                   class="number-input force-spinner" 
                   inputmode="numeric"
                   pattern="[0-9]*"
                   value="0" 
                   min="0" 
                   max="100" 
                   step="1"
                   placeholder="Best of both worlds">
            <div class="custom-buttons">
                <button class="custom-btn" id="hybridUp">▲</button>
                <button class="custom-btn" id="hybridDown">▼</button>
            </div>
        </div>
    </div>

    <script>
        // Solution 2: Custom spinner functionality
        const customNumber = document.getElementById('customNumber');
        const upBtn = document.getElementById('upBtn');
        const downBtn = document.getElementById('downBtn');
        
        upBtn.addEventListener('click', () => {
            customNumber.stepUp();
        });
        
        downBtn.addEventListener('click', () => {
            customNumber.stepDown();
        });
        
        // Solution 4: Hybrid approach
        const hybridNumber = document.getElementById('hybridNumber');
        const hybridUp = document.getElementById('hybridUp');
        const hybridDown = document.getElementById('hybridDown');
        
        hybridUp.addEventListener('click', () => {
            hybridNumber.stepUp();
        });
        
        hybridDown.addEventListener('click', () => {
            hybridNumber.stepDown();
        });
        
        // Prevent form submission on button clicks
        document.querySelectorAll('.custom-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
            });
        });
        
        // Detect iOS Safari
        function isIOS() {
            return [
                'iPad Simulator',
                'iPhone Simulator',
                'iPod Simulator',
                'iPad',
                'iPhone',
                'iPod'
            ].includes(navigator.platform) ||
            (navigator.userAgent.includes("Mac") && "ontouchend" in document);
        }
        
        // Add iOS-specific class for additional styling if needed
        if (isIOS()) {
            document.body.classList.add('ios-device');
            console.log('iOS device detected - applying spinner fixes');
        }
    </script>
</body>
</html>
